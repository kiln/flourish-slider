(function(t,n){typeof exports==="object"&&typeof module!=="undefined"?module.exports=n():typeof define==="function"&&define.amd?define(n):(t=t||self,t.Slider=n())})(this,function(){"use strict";var t="http://www.w3.org/1999/xhtml";var n={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function e(t){var e=t+="",r=e.indexOf(":");if(r>=0&&(e=t.slice(0,r))!=="xmlns")t=t.slice(r+1);return n.hasOwnProperty(e)?{space:n[e],local:t}:t}function r(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===t&&e.documentElement.namespaceURI===t?e.createElement(n):e.createElementNS(r,n)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function a(t){var n=e(t);return(n.local?i:r)(n)}function o(){}function u(t){return t==null?o:function(){return this.querySelector(t)}}function s(t){if(typeof t!=="function")t=u(t);for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i){for(var a=n[i],o=a.length,s=r[i]=new Array(o),l,h,c=0;c<o;++c){if((l=a[c])&&(h=t.call(l,l.__data__,c,a))){if("__data__"in l)h.__data__=l.__data__;s[c]=h}}}return new Vt(r,this._parents)}function l(){return[]}function h(t){return t==null?l:function(){return this.querySelectorAll(t)}}function c(t){if(typeof t!=="function")t=h(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a){for(var o=n[a],u=o.length,s,l=0;l<u;++l){if(s=o[l]){r.push(t.call(s,s.__data__,l,o));i.push(s)}}}return new Vt(r,i)}var f=function(t){return function(){return this.matches(t)}};if(typeof document!=="undefined"){var p=document.documentElement;if(!p.matches){var d=p.webkitMatchesSelector||p.msMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector;f=function(t){return function(){return d.call(this,t)}}}}var g=f;function m(t){if(typeof t!=="function")t=g(t);for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i){for(var a=n[i],o=a.length,u=r[i]=[],s,l=0;l<o;++l){if((s=a[l])&&t.call(s,s.__data__,l,a)){u.push(s)}}}return new Vt(r,this._parents)}function v(t){return new Array(t.length)}function _(){return new Vt(this._enter||this._groups.map(v),this._parents)}function y(t,n){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=n}y.prototype={constructor:y,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function w(t){return function(){return t}}var b="$";function M(t,n,e,r,i,a){var o=0,u,s=n.length,l=a.length;for(;o<l;++o){if(u=n[o]){u.__data__=a[o];r[o]=u}else{e[o]=new y(t,a[o])}}for(;o<s;++o){if(u=n[o]){i[o]=u}}}function x(t,n,e,r,i,a,o){var u,s,l={},h=n.length,c=a.length,f=new Array(h),p;for(u=0;u<h;++u){if(s=n[u]){f[u]=p=b+o.call(s,s.__data__,u,n);if(p in l){i[u]=s}else{l[p]=s}}}for(u=0;u<c;++u){p=b+o.call(t,a[u],u,a);if(s=l[p]){r[u]=s;s.__data__=a[u];l[p]=null}else{e[u]=new y(t,a[u])}}for(u=0;u<h;++u){if((s=n[u])&&l[f[u]]===s){i[u]=s}}}function k(t,n){if(!t){p=new Array(this.size()),l=-1;this.each(function(t){p[++l]=t});return p}var e=n?x:M,r=this._parents,i=this._groups;if(typeof t!=="function")t=w(t);for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var h=r[l],c=i[l],f=c.length,p=t.call(h,h&&h.__data__,l,r),d=p.length,g=u[l]=new Array(d),m=o[l]=new Array(d),v=s[l]=new Array(f);e(h,c,g,m,v,p,n);for(var _=0,y=0,b,k;_<d;++_){if(b=g[_]){if(_>=y)y=_+1;while(!(k=m[y])&&++y<d);b._next=k||null}}}o=new Vt(o,r);o._enter=u;o._exit=s;return o}function N(){return new Vt(this._exit||this._groups.map(v),this._parents)}function A(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u){for(var s=n[u],l=e[u],h=s.length,c=o[u]=new Array(h),f,p=0;p<h;++p){if(f=s[p]||l[p]){c[p]=f}}}for(;u<r;++u){o[u]=n[u]}return new Vt(o,this._parents)}function S(){for(var t=this._groups,n=-1,e=t.length;++n<e;){for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&a!==o.nextSibling)a.parentNode.insertBefore(o,a);a=o}}}return this}function E(t){if(!t)t=L;function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],u=o.length,s=i[a]=new Array(u),l,h=0;h<u;++h){if(l=o[h]){s[h]=l}}s.sort(n)}return new Vt(i,this._parents).order()}function L(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function z(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function R(){var t=new Array(this.size()),n=-1;this.each(function(){t[++n]=this});return t}function q(){for(var t=this._groups,n=0,e=t.length;n<e;++n){for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function C(){var t=0;this.each(function(){++t});return t}function P(){return!this.node()}function B(t){for(var n=this._groups,e=0,r=n.length;e<r;++e){for(var i=n[e],a=0,o=i.length,u;a<o;++a){if(u=i[a])t.call(u,u.__data__,a,i)}}return this}function F(t){return function(){this.removeAttribute(t)}}function I(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j(t,n){return function(){this.setAttribute(t,n)}}function H(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function $(t,n){return function(){var e=n.apply(this,arguments);if(e==null)this.removeAttribute(t);else this.setAttribute(t,e)}}function T(t,n){return function(){var e=n.apply(this,arguments);if(e==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,e)}}function O(t,n){var r=e(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?I:F:typeof n==="function"?r.local?T:$:r.local?H:j)(r,n))}function V(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D(t){return function(){this.style.removeProperty(t)}}function X(t,n,e){return function(){this.style.setProperty(t,n,e)}}function U(t,n,e){return function(){var r=n.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,e)}}function G(t,n,e){return arguments.length>1?this.each((n==null?D:typeof n==="function"?U:X)(t,n,e==null?"":e)):Y(this.node(),t)}function Y(t,n){return t.style.getPropertyValue(n)||V(t).getComputedStyle(t,null).getPropertyValue(n)}function Q(t){return function(){delete this[t]}}function Z(t,n){return function(){this[t]=n}}function J(t,n){return function(){var e=n.apply(this,arguments);if(e==null)delete this[t];else this[t]=e}}function K(t,n){return arguments.length>1?this.each((n==null?Q:typeof n==="function"?J:Z)(t,n)):this.node()[t]}function W(t){return t.trim().split(/^|\s+/)}function tt(t){return t.classList||new nt(t)}function nt(t){this._node=t;this._names=W(t.getAttribute("class")||"")}nt.prototype={add:function(t){var n=this._names.indexOf(t);if(n<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var n=this._names.indexOf(t);if(n>=0){this._names.splice(n,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function et(t,n){var e=tt(t),r=-1,i=n.length;while(++r<i)e.add(n[r])}function rt(t,n){var e=tt(t),r=-1,i=n.length;while(++r<i)e.remove(n[r])}function it(t){return function(){et(this,t)}}function at(t){return function(){rt(this,t)}}function ot(t,n){return function(){(n.apply(this,arguments)?et:rt)(this,t)}}function ut(t,n){var e=W(t+"");if(arguments.length<2){var r=tt(this.node()),i=-1,a=e.length;while(++i<a)if(!r.contains(e[i]))return false;return true}return this.each((typeof n==="function"?ot:n?it:at)(e,n))}function st(){this.textContent=""}function lt(t){return function(){this.textContent=t}}function ht(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function ct(t){return arguments.length?this.each(t==null?st:(typeof t==="function"?ht:lt)(t)):this.node().textContent}function ft(){this.innerHTML=""}function pt(t){return function(){this.innerHTML=t}}function dt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function gt(t){return arguments.length?this.each(t==null?ft:(typeof t==="function"?dt:pt)(t)):this.node().innerHTML}function mt(){if(this.nextSibling)this.parentNode.appendChild(this)}function vt(){return this.each(mt)}function _t(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yt(){return this.each(_t)}function wt(t){var n=typeof t==="function"?t:a(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function bt(){return null}function Mt(t,n){var e=typeof t==="function"?t:a(t),r=n==null?bt:typeof n==="function"?n:u(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function xt(){var t=this.parentNode;if(t)t.removeChild(this)}function kt(){return this.each(xt)}function Nt(){return this.parentNode.insertBefore(this.cloneNode(false),this.nextSibling)}function At(){return this.parentNode.insertBefore(this.cloneNode(true),this.nextSibling)}function St(t){return this.select(t?At:Nt)}function Et(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Lt={};var zt=null;if(typeof document!=="undefined"){var Rt=document.documentElement;if(!("onmouseenter"in Rt)){Lt={mouseenter:"mouseover",mouseleave:"mouseout"}}}function qt(t,n,e){t=Ct(t,n,e);return function(n){var e=n.relatedTarget;if(!e||e!==this&&!(e.compareDocumentPosition(this)&8)){t.call(this,n)}}}function Ct(t,n,e){return function(r){var i=zt;zt=r;try{t.call(this,this.__data__,n,e)}finally{zt=i}}}function Pt(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0)n=t.slice(e+1),t=t.slice(0,e);return{type:t,name:n}})}function Bt(t){return function(){var n=this.__on;if(!n)return;for(var e=0,r=-1,i=n.length,a;e<i;++e){if(a=n[e],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{n[++r]=a}}if(++r)n.length=r;else delete this.__on}}function Ft(t,n,e){var r=Lt.hasOwnProperty(t.type)?qt:Ct;return function(i,a,o){var u=this.__on,s,l=r(n,a,o);if(u)for(var h=0,c=u.length;h<c;++h){if((s=u[h]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.capture);this.addEventListener(s.type,s.listener=l,s.capture=e);s.value=n;return}}this.addEventListener(t.type,l,e);s={type:t.type,name:t.name,value:n,listener:l,capture:e};if(!u)this.__on=[s];else u.push(s)}}function It(t,n,e){var r=Pt(t+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u)for(var s=0,l=u.length,h;s<l;++s){for(i=0,h=u[s];i<a;++i){if((o=r[i]).type===h.type&&o.name===h.name){return h.value}}}return}u=n?Ft:Bt;if(e==null)e=false;for(i=0;i<a;++i)this.each(u(r[i],n,e));return this}function jt(t,n,e){var r=V(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(n,e)}else{i=r.document.createEvent("Event");if(e)i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail;else i.initEvent(n,false,false)}t.dispatchEvent(i)}function Ht(t,n){return function(){return jt(this,t,n)}}function $t(t,n){return function(){return jt(this,t,n.apply(this,arguments))}}function Tt(t,n){return this.each((typeof n==="function"?$t:Ht)(t,n))}var Ot=[null];function Vt(t,n){this._groups=t;this._parents=n}function Dt(){return new Vt([[document.documentElement]],Ot)}Vt.prototype=Dt.prototype={constructor:Vt,select:s,selectAll:c,filter:m,data:k,enter:_,exit:N,merge:A,order:S,sort:E,call:z,nodes:R,node:q,size:C,empty:P,each:B,attr:O,style:G,property:K,classed:ut,text:ct,html:gt,raise:vt,lower:yt,append:wt,insert:Mt,remove:kt,clone:St,datum:Et,on:It,dispatch:Tt};function Xt(t){return typeof t==="string"?new Vt([[document.querySelector(t)]],[document.documentElement]):new Vt([[t]],Ot)}function Ut(){var t=zt,n;while(n=t.sourceEvent)t=n;return t}function Gt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();r.x=n.clientX,r.y=n.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Yt(t){var n=Ut();if(n.changedTouches)n=n.changedTouches[0];return Gt(t,n)}var Qt=Array.prototype.slice;function Zt(t){return t}var Jt=1,Kt=2,Wt=3,tn=4,nn=1e-6;function en(t){return"translate("+(t+.5)+",0)"}function rn(t){return"translate(0,"+(t+.5)+")"}function an(t){return function(n){return+t(n)}}function on(t){var n=Math.max(0,t.bandwidth()-1)/2;if(t.round())n=Math.round(n);return function(e){return+t(e)+n}}function un(){return!this.__axis}function sn(t,n){var e=[],r=null,i=null,a=6,o=6,u=3,s=t===Jt||t===tn?-1:1,l=t===tn||t===Kt?"x":"y",h=t===Jt||t===Wt?en:rn;function c(c){var f=r==null?n.ticks?n.ticks.apply(n,e):n.domain():r,p=i==null?n.tickFormat?n.tickFormat.apply(n,e):Zt:i,d=Math.max(a,0)+u,g=n.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,_=(n.bandwidth?on:an)(n.copy()),y=c.selection?c.selection():c,w=y.selectAll(".domain").data([null]),b=y.selectAll(".tick").data(f,n).order(),M=b.exit(),x=b.enter().append("g").attr("class","tick"),k=b.select("line"),N=b.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));b=b.merge(x);k=k.merge(x.append("line").attr("stroke","currentColor").attr(l+"2",s*a));N=N.merge(x.append("text").attr("fill","currentColor").attr(l,s*d).attr("dy",t===Jt?"0em":t===Wt?"0.71em":"0.32em"));if(c!==y){w=w.transition(c);b=b.transition(c);k=k.transition(c);N=N.transition(c);M=M.transition(c).attr("opacity",nn).attr("transform",function(t){return isFinite(t=_(t))?h(t):this.getAttribute("transform")});x.attr("opacity",nn).attr("transform",function(t){var n=this.parentNode.__axis;return h(n&&isFinite(n=n(t))?n:_(t))})}M.remove();w.attr("d",t===tn||t==Kt?o?"M"+s*o+","+m+"H0.5V"+v+"H"+s*o:"M0.5,"+m+"V"+v:o?"M"+m+","+s*o+"V0.5H"+v+"V"+s*o:"M"+m+",0.5H"+v);b.attr("opacity",1).attr("transform",function(t){return h(_(t))});k.attr(l+"2",s*a);N.attr(l,s*d).text(p);y.filter(un).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Kt?"start":t===tn?"end":"middle");y.each(function(){this.__axis=_})}c.scale=function(t){return arguments.length?(n=t,c):n};c.ticks=function(){return e=Qt.call(arguments),c};c.tickArguments=function(t){return arguments.length?(e=t==null?[]:Qt.call(t),c):e.slice()};c.tickValues=function(t){return arguments.length?(r=t==null?null:Qt.call(t),c):r&&r.slice()};c.tickFormat=function(t){return arguments.length?(i=t,c):i};c.tickSize=function(t){return arguments.length?(a=o=+t,c):a};c.tickSizeInner=function(t){return arguments.length?(a=+t,c):a};c.tickSizeOuter=function(t){return arguments.length?(o=+t,c):o};c.tickPadding=function(t){return arguments.length?(u=+t,c):u};return c}function ln(t){return sn(Wt,t)}function hn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function cn(t){if(t.length===1)t=fn(t);return{left:function(n,e,r,i){if(r==null)r=0;if(i==null)i=n.length;while(r<i){var a=r+i>>>1;if(t(n[a],e)<0)r=a+1;else i=a}return r},right:function(n,e,r,i){if(r==null)r=0;if(i==null)i=n.length;while(r<i){var a=r+i>>>1;if(t(n[a],e)>0)i=a;else r=a+1}return r}}}function fn(t){return function(n,e){return hn(t(n),e)}}var pn=cn(hn);var dn=pn.right;var gn=Math.sqrt(50),mn=Math.sqrt(10),vn=Math.sqrt(2);function _n(t,n,e){var r,i=-1,a,o,u;n=+n,t=+t,e=+e;if(t===n&&e>0)return[t];if(r=n<t)a=t,t=n,n=a;if((u=yn(t,n,e))===0||!isFinite(u))return[];if(u>0){t=Math.ceil(t/u);n=Math.floor(n/u);o=new Array(a=Math.ceil(n-t+1));while(++i<a)o[i]=(t+i)*u}else{t=Math.floor(t*u);n=Math.ceil(n*u);o=new Array(a=Math.ceil(t-n+1));while(++i<a)o[i]=(t-i)/u}if(r)o.reverse();return o}function yn(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=gn?10:a>=mn?5:a>=vn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=gn?10:a>=mn?5:a>=vn?2:1)}function wn(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;if(a>=gn)i*=10;else if(a>=mn)i*=5;else if(a>=vn)i*=2;return n<t?-i:i}function bn(t,n,e){t.prototype=n.prototype=e;e.constructor=t}function Mn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function xn(){}var kn=.7;var Nn=1/kn;var An="\\s*([+-]?\\d+)\\s*",Sn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ln=/^#([0-9a-f]{3})$/,zn=/^#([0-9a-f]{6})$/,Rn=new RegExp("^rgb\\("+[An,An,An]+"\\)$"),qn=new RegExp("^rgb\\("+[En,En,En]+"\\)$"),Cn=new RegExp("^rgba\\("+[An,An,An,Sn]+"\\)$"),Pn=new RegExp("^rgba\\("+[En,En,En,Sn]+"\\)$"),Bn=new RegExp("^hsl\\("+[Sn,En,En]+"\\)$"),Fn=new RegExp("^hsla\\("+[Sn,En,En,Sn]+"\\)$");var In={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bn(xn,jn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}});function jn(t){var n;t=(t+"").trim().toLowerCase();return(n=Ln.exec(t))?(n=parseInt(n[1],16),new Vn(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1)):(n=zn.exec(t))?Hn(parseInt(n[1],16)):(n=Rn.exec(t))?new Vn(n[1],n[2],n[3],1):(n=qn.exec(t))?new Vn(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Cn.exec(t))?$n(n[1],n[2],n[3],n[4]):(n=Pn.exec(t))?$n(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Bn.exec(t))?Xn(n[1],n[2]/100,n[3]/100,1):(n=Fn.exec(t))?Xn(n[1],n[2]/100,n[3]/100,n[4]):In.hasOwnProperty(t)?Hn(In[t]):t==="transparent"?new Vn(NaN,NaN,NaN,0):null}function Hn(t){return new Vn(t>>16&255,t>>8&255,t&255,1)}function $n(t,n,e,r){if(r<=0)t=n=e=NaN;return new Vn(t,n,e,r)}function Tn(t){if(!(t instanceof xn))t=jn(t);if(!t)return new Vn;t=t.rgb();return new Vn(t.r,t.g,t.b,t.opacity)}function On(t,n,e,r){return arguments.length===1?Tn(t):new Vn(t,n,e,r==null?1:r)}function Vn(t,n,e,r){this.r=+t;this.g=+n;this.b=+e;this.opacity=+r}bn(Vn,On,Mn(xn,{brighter:function(t){t=t==null?Nn:Math.pow(Nn,t);return new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?kn:Math.pow(kn,t);return new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&(0<=this.g&&this.g<=255)&&(0<=this.b&&this.b<=255)&&(0<=this.opacity&&this.opacity<=1)},hex:function(){return"#"+Dn(this.r)+Dn(this.g)+Dn(this.b)},toString:function(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}}));function Dn(t){t=Math.max(0,Math.min(255,Math.round(t)||0));return(t<16?"0":"")+t.toString(16)}function Xn(t,n,e,r){if(r<=0)t=n=e=NaN;else if(e<=0||e>=1)t=n=NaN;else if(n<=0)t=NaN;return new Yn(t,n,e,r)}function Un(t){if(t instanceof Yn)return new Yn(t.h,t.s,t.l,t.opacity);if(!(t instanceof xn))t=jn(t);if(!t)return new Yn;if(t instanceof Yn)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;if(u){if(n===a)o=(e-r)/u+(e<r)*6;else if(e===a)o=(r-n)/u+2;else o=(n-e)/u+4;u/=s<.5?a+i:2-a-i;o*=60}else{u=s>0&&s<1?0:o}return new Yn(o,u,s,t.opacity)}function Gn(t,n,e,r){return arguments.length===1?Un(t):new Yn(t,n,e,r==null?1:r)}function Yn(t,n,e,r){this.h=+t;this.s=+n;this.l=+e;this.opacity=+r}bn(Yn,Gn,Mn(xn,{brighter:function(t){t=t==null?Nn:Math.pow(Nn,t);return new Yn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?kn:Math.pow(kn,t);return new Yn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Vn(Qn(t>=240?t-240:t+120,i,r),Qn(t,i,r),Qn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)}}));function Qn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}var Zn=Math.PI/180;var Jn=180/Math.PI;var Kn=18,Wn=.96422,te=1,ne=.82521,ee=4/29,re=6/29,ie=3*re*re,ae=re*re*re;function oe(t){if(t instanceof se)return new se(t.l,t.a,t.b,t.opacity);if(t instanceof ge){if(isNaN(t.h))return new se(t.l,0,0,t.opacity);var n=t.h*Zn;return new se(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}if(!(t instanceof Vn))t=Tn(t);var e=fe(t.r),r=fe(t.g),i=fe(t.b),a=le((.2225045*e+.7168786*r+.0606169*i)/te),o,u;if(e===r&&r===i)o=u=a;else{o=le((.4360747*e+.3850649*r+.1430804*i)/Wn);u=le((.0139322*e+.0971045*r+.7141733*i)/ne)}return new se(116*a-16,500*(o-a),200*(a-u),t.opacity)}function ue(t,n,e,r){return arguments.length===1?oe(t):new se(t,n,e,r==null?1:r)}function se(t,n,e,r){this.l=+t;this.a=+n;this.b=+e;this.opacity=+r}bn(se,ue,Mn(xn,{brighter:function(t){return new se(this.l+Kn*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new se(this.l-Kn*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;n=Wn*he(n);t=te*he(t);e=ne*he(e);return new Vn(ce(3.1338561*n-1.6168667*t-.4906146*e),ce(-.9787684*n+1.9161415*t+.033454*e),ce(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function le(t){return t>ae?Math.pow(t,1/3):t/ie+ee}function he(t){return t>re?t*t*t:ie*(t-ee)}function ce(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pe(t){if(t instanceof ge)return new ge(t.h,t.c,t.l,t.opacity);if(!(t instanceof se))t=oe(t);if(t.a===0&&t.b===0)return new ge(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Jn;return new ge(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function de(t,n,e,r){return arguments.length===1?pe(t):new ge(t,n,e,r==null?1:r)}function ge(t,n,e,r){this.h=+t;this.c=+n;this.l=+e;this.opacity=+r}bn(ge,de,Mn(xn,{brighter:function(t){return new ge(this.h,this.c,this.l+Kn*(t==null?1:t),this.opacity)},darker:function(t){return new ge(this.h,this.c,this.l-Kn*(t==null?1:t),this.opacity)},rgb:function(){return oe(this).rgb()}}));var me=-.14861,ve=+1.78277,_e=-.29227,ye=-.90649,we=+1.97294,be=we*ye,Me=we*ve,xe=ve*_e-ye*me;function ke(t){if(t instanceof Ae)return new Ae(t.h,t.s,t.l,t.opacity);if(!(t instanceof Vn))t=Tn(t);var n=t.r/255,e=t.g/255,r=t.b/255,i=(xe*r+be*n-Me*e)/(xe+be-Me),a=r-i,o=(we*(e-i)-_e*a)/ye,u=Math.sqrt(o*o+a*a)/(we*i*(1-i)),s=u?Math.atan2(o,a)*Jn-120:NaN;return new Ae(s<0?s+360:s,u,i,t.opacity)}function Ne(t,n,e,r){return arguments.length===1?ke(t):new Ae(t,n,e,r==null?1:r)}function Ae(t,n,e,r){this.h=+t;this.s=+n;this.l=+e;this.opacity=+r}bn(Ae,Ne,Mn(xn,{brighter:function(t){t=t==null?Nn:Math.pow(Nn,t);return new Ae(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?kn:Math.pow(kn,t);return new Ae(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Zn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Vn(255*(n+e*(me*r+ve*i)),255*(n+e*(_e*r+ye*i)),255*(n+e*(we*r)),this.opacity)}}));function Se(t){return function(){return t}}function Ee(t,n){return function(e){return t+e*n}}function Le(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function ze(t){return(t=+t)===1?Re:function(n,e){return e-n?Le(n,e,t):Se(isNaN(n)?e:n)}}function Re(t,n){var e=n-t;return e?Ee(t,e):Se(isNaN(t)?n:t)}var qe=function t(n){var e=ze(n);function r(t,n){var r=e((t=On(t)).r,(n=On(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=Re(t.opacity,n.opacity);return function(n){t.r=r(n);t.g=i(n);t.b=a(n);t.opacity=o(n);return t+""}}r.gamma=t;return r}(1);function Ce(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Oe(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function Pe(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}}function Be(t,n){return t=+t,n-=t,function(e){return t+n*e}}function Fe(t,n){var e={},r={},i;if(t===null||typeof t!=="object")t={};if(n===null||typeof n!=="object")n={};for(i in n){if(i in t){e[i]=Oe(t[i],n[i])}else{r[i]=n[i]}}return function(t){for(i in e)r[i]=e[i](t);return r}}var Ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,je=new RegExp(Ie.source,"g");function He(t){return function(){return t}}function $e(t){return function(n){return t(n)+""}}function Te(t,n){var e=Ie.lastIndex=je.lastIndex=0,r,i,a,o=-1,u=[],s=[];t=t+"",n=n+"";while((r=Ie.exec(t))&&(i=je.exec(n))){if((a=i.index)>e){a=n.slice(e,a);if(u[o])u[o]+=a;else u[++o]=a}if((r=r[0])===(i=i[0])){if(u[o])u[o]+=i;else u[++o]=i}else{u[++o]=null;s.push({i:o,x:Be(r,i)})}e=je.lastIndex}if(e<n.length){a=n.slice(e);if(u[o])u[o]+=a;else u[++o]=a}return u.length<2?s[0]?$e(s[0].x):He(n):(n=s.length,function(t){for(var e=0,r;e<n;++e)u[(r=s[e]).i]=r.x(t);return u.join("")})}function Oe(t,n){var e=typeof n,r;return n==null||e==="boolean"?Se(n):(e==="number"?Be:e==="string"?(r=jn(n))?(n=r,qe):Te:n instanceof jn?qe:n instanceof Date?Pe:Array.isArray(n)?Ce:typeof n.valueOf!=="function"&&typeof n.toString!=="function"||isNaN(n)?Fe:Be)(t,n)}function Ve(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}var De=180/Math.PI;var Xe=Math.SQRT2;var Ue=Array.prototype;var Ge=Ue.map;var Ye=Ue.slice;function Qe(t){return function(){return t}}function Ze(t){return+t}var Je=[0,1];function Ke(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Qe(n)}function We(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}function tr(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}function nr(t,n,e,r){var i=t[0],a=t[1],o=n[0],u=n[1];if(a<i)i=e(a,i),o=r(u,o);else i=e(i,a),o=r(o,u);return function(t){return o(i(t))}}function er(t,n,e,r){var i=Math.min(t.length,n.length)-1,a=new Array(i),o=new Array(i),u=-1;if(t[i]<t[0]){t=t.slice().reverse();n=n.slice().reverse()}while(++u<i){a[u]=e(t[u],t[u+1]);o[u]=r(n[u],n[u+1])}return function(n){var e=dn(t,n,1,i)-1;return o[e](a[e](n))}}function rr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ir(t,n){var e=Je,r=Je,i=Oe,a=false,o,u,s;function l(){o=Math.min(e.length,r.length)>2?er:nr;u=s=null;return h}function h(n){return(u||(u=o(e,r,a?We(t):t,i)))(+n)}h.invert=function(t){return(s||(s=o(r,e,Ke,a?tr(n):n)))(+t)};h.domain=function(t){return arguments.length?(e=Ge.call(t,Ze),l()):e.slice()};h.range=function(t){return arguments.length?(r=Ye.call(t),l()):r.slice()};h.rangeRound=function(t){return r=Ye.call(t),i=Ve,l()};h.clamp=function(t){return arguments.length?(a=!!t,l()):a};h.interpolate=function(t){return arguments.length?(i=t,l()):i};return l()}function ar(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function or(t){return t=ar(Math.abs(t)),t?t[1]:NaN}function ur(t,n){return function(e,r){var i=e.length,a=[],o=0,u=t[0],s=0;while(i>0&&u>0){if(s+u+1>r)u=Math.max(1,r-s);a.push(e.substring(i-=u,i+u));if((s+=u+1)>r)break;u=t[o=(o+1)%t.length]}return a.reverse().join(n)}}function sr(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}var lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hr(t){return new cr(t)}hr.prototype=cr.prototype;function cr(t){if(!(n=lr.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ";this.align=n[2]||">";this.sign=n[3]||"-";this.symbol=n[4]||"";this.zero=!!n[5];this.width=n[6]&&+n[6];this.comma=!!n[7];this.precision=n[8]&&+n[8].slice(1);this.trim=!!n[9];this.type=n[10]||""}cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fr(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e){switch(t[e]){case".":r=i=e;break;case"0":if(r===0)r=e;i=e;break;default:if(r>0){if(!+t[e])break t;r=0}break}}return r>0?t.slice(0,r)+t.slice(i+1):t}var pr;function dr(t,n){var e=ar(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(pr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ar(t,Math.max(0,n+a-1))[0]}function gr(t,n){var e=ar(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var mr={"%":function(t,n){return(t*100).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return gr(t*100,n)},r:gr,s:dr,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function vr(t){return t}
var _r=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function yr(t){var n=t.grouping&&t.thousands?ur(t.grouping,t.thousands):vr,e=t.currency,r=t.decimal,i=t.numerals?sr(t.numerals):vr,a=t.percent||"%";function o(t){t=hr(t);var o=t.fill,u=t.align,s=t.sign,l=t.symbol,h=t.zero,c=t.width,f=t.comma,p=t.precision,d=t.trim,g=t.type;if(g==="n")f=true,g="g";else if(!mr[g])p==null&&(p=12),d=true,g="g";if(h||o==="0"&&u==="=")h=true,o="0",u="=";var m=l==="$"?e[0]:l==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v=l==="$"?e[1]:/[%p]/.test(g)?a:"";var _=mr[g],y=/[defgprs%]/.test(g);p=p==null?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function w(t){var e=m,a=v,l,w,b;if(g==="c"){a=_(t)+a;t=""}else{t=+t;var M=t<0;t=_(Math.abs(t),p);if(d)t=fr(t);if(M&&+t===0)M=false;e=(M?s==="("?s:"-":s==="-"||s==="("?"":s)+e;a=(g==="s"?_r[8+pr/3]:"")+a+(M&&s==="("?")":"");if(y){l=-1,w=t.length;while(++l<w){if(b=t.charCodeAt(l),48>b||b>57){a=(b===46?r+t.slice(l+1):t.slice(l))+a;t=t.slice(0,l);break}}}}if(f&&!h)t=n(t,Infinity);var x=e.length+t.length+a.length,k=x<c?new Array(c-x+1).join(o):"";if(f&&h)t=n(k+t,k.length?c-a.length:Infinity),k="";switch(u){case"<":t=e+t+a+k;break;case"=":t=e+k+t+a;break;case"^":t=k.slice(0,x=k.length>>1)+e+t+a+k.slice(x);break;default:t=k+e+t+a;break}return i(t)}w.toString=function(){return t+""};return w}function u(t,n){var e=o((t=hr(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(or(n)/3)))*3,i=Math.pow(10,-r),a=_r[8+r/3];return function(t){return e(i*t)+a}}return{format:o,formatPrefix:u}}var wr;var br;var Mr;xr({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function xr(t){wr=yr(t);br=wr.format;Mr=wr.formatPrefix;return wr}function kr(t){return Math.max(0,-or(Math.abs(t)))}function Nr(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(or(n)/3)))*3-or(Math.abs(t)))}function Ar(t,n){t=Math.abs(t),n=Math.abs(n)-t;return Math.max(0,or(n)-or(t))+1}function Sr(t,n,e){var r=t[0],i=t[t.length-1],a=wn(r,i,n==null?10:n),o;e=hr(e==null?",f":e);switch(e.type){case"s":{var u=Math.max(Math.abs(r),Math.abs(i));if(e.precision==null&&!isNaN(o=Nr(a,u)))e.precision=o;return Mr(e,u)}case"":case"e":case"g":case"p":case"r":{if(e.precision==null&&!isNaN(o=Ar(a,Math.max(Math.abs(r),Math.abs(i)))))e.precision=o-(e.type==="e");break}case"f":case"%":{if(e.precision==null&&!isNaN(o=kr(a)))e.precision=o-(e.type==="%")*2;break}}return br(e)}function Er(t){var n=t.domain;t.ticks=function(t){var e=n();return _n(e[0],e[e.length-1],t==null?10:t)};t.tickFormat=function(t,e){return Sr(n(),t,e)};t.nice=function(e){if(e==null)e=10;var r=n(),i=0,a=r.length-1,o=r[i],u=r[a],s;if(u<o){s=o,o=u,u=s;s=i,i=a,a=s}s=yn(o,u,e);if(s>0){o=Math.floor(o/s)*s;u=Math.ceil(u/s)*s;s=yn(o,u,e)}else if(s<0){o=Math.ceil(o*s)/s;u=Math.floor(u*s)/s;s=yn(o,u,e)}if(s>0){r[i]=Math.floor(o/s)*s;r[a]=Math.ceil(u/s)*s;n(r)}else if(s<0){r[i]=Math.ceil(o*s)/s;r[a]=Math.floor(u*s)/s;n(r)}return t};return t}function Lr(){var t=ir(Ke,Be);t.copy=function(){return rr(t,Lr())};return Er(t)}var zr="1.3.2";function Rr(t){this.container=Xt(t);this._width=null;this._height=null;this._handleRadius=15;this._channelHeight=5;this._channelRadius=null;this._handleFill="black";this._channelFill="#eee";this._margin={top:null,left:null,right:null};this._domain=[0,1];this._value=null;this._snap=false;this._scale=null;this._axis=false;this._ticks=null;this._tickFormat=null;this._tickSize=null;this._label=null;this._labelSize=18;this._startLabel=null;this._startLabelBelow=false;this._endLabel=null;this._endLabelBelow=false;this._startEndLabelSize=16;this.handlers={change:[]}}function qr(t){if(t.length>0&&t.charAt(0)=="_"){Rr.prototype[t.substr(1)]=function(n){if(typeof n=="undefined")return this[t];this[t]=n;return this}}}var Cr=new Rr;for(var Pr in Cr){qr(Pr)}Rr.prototype.margin=function t(n){if(!n)return this._margin;for(Pr in n){if(Pr in this._margin)this._margin[Pr]=n[Pr];else throw"Slider.margin: unrecognised option "+Pr}return this};Rr.prototype.on=function t(n,e){if(!(n in this.handlers))throw"Slider.on: No such event: "+n;this.handlers[n].push(e);return this};Rr.prototype.fire=function t(n,e){if(!(n in this.handlers))throw"Slider.fire: No such event: "+n;var r=this.handlers[n];for(var i=0;i<r.length;i++){r[i].call(this,e)}return this};function Br(t,n,e,r){if(typeof e==="undefined")e=0;if(typeof r==="undefined")r=t.length;if(r-e==0)return n;if(r-e==1)return t[e];if(r-e==2){var i=Math.abs(t[e]-n),a=Math.abs(t[e+1]-n);if(i<=a)return t[e];else return t[e+1]}var o=e+Math.floor((r-e)/2),u=t[o],s=o-1,l=t[s];if(l<=n&&n<=u){return Math.abs(l-n)<=Math.abs(u-n)?l:u}if(u<=n)return Br(t,n,o,r);else return Br(t,n,e,o)}function Fr(t,n){if(typeof t=="boolean"){return t?Math.round(n):n}return Br(t,n)}Rr.prototype.draw=function t(){var n=this;var e=this._width,r=this._height;var i=this.container.node();if(!e){var a=i.getBoundingClientRect();if(!a||a.width==0)return this;e=a.width;r=a.height}var o=this._channelRadius==null?this._channelHeight/2:this._channelRadius,u=this._margin.left==null?Math.max(this._handleRadius,o):this._margin.left,s=this._margin.right==null?Math.max(this._handleRadius,o):this._margin.right,l=this._margin.top==null?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,h=e-u-s,c=h+2*o,f=this._labelSize*1.5;if(this._label!=null&&this._margin.top==null)l+=f;var p;if(i.namespaceURI=="http://www.w3.org/2000/svg"){p=this.container}else{p=this.container.selectAll("svg").data([{width:e,height:r}]);p.exit().remove();p=p.enter().append("svg").merge(p);p.attr("width",function(t){return t.width}).attr("height",function(t){return t.height})}var d=p.selectAll("g.slider-container").data([{left:u,top:l,id:this._id}]);d.exit().remove();d=d.enter().append("g").attr("class","slider-container").merge(d);d.attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id});this.scale=(this._scale?this._scale():Lr()).domain(this._domain).range([0,h]);if(this._value==null||this._value<this._domain[0])this._value=this._domain[0];else if(this._value>this._domain[1])this._value=this._domain[1];if(this._snap)this._value=Fr(this._snap,this._value);var g=[];if(this._axis){var m;if(typeof this._axis!="boolean"){m=this._axis(this.scale)}else{m=ln().scale(this.scale).tickPadding(6)}if(this._ticks)m.ticks(this._ticks);if(this._tickFormat)m.tickFormat(this._tickFormat);if(this._tickSize)m.tickSize(this._tickSize);else m.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2));g.push(m)}var v=d.selectAll(".slider-axis");var _=v.data(g).enter();_.append("g").attr("class","slider-axis").attr("transform","translate("+0+","+this._channelHeight/2+")").each(function(t){t(Xt(this))});_.select(".domain").attr("fill","none");_.selectAll(".tick line").attr("stroke","black");_.exit().remove();var y,w;y=d.selectAll(".slider-channel").data([{width:c,height:this._channelHeight,channel_r:o}]);y.exit().remove();y=y.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(h,Yt(this)[0]));n._value=n.scale.invert(t);if(n._snap)n._value=Fr(n._snap,n._value);w.attr("cx",n.scale(n._value));n.fire("change",n._value)}).merge(y);y.attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r});var b,M;function x(t){document.addEventListener("mouseup",k,false);document.addEventListener("mousemove",N,false);b=t.clientX;M=n.scale(n._value)}function k(){document.removeEventListener("mouseup",k,false);document.removeEventListener("mousemove",N,false)}function N(t){L(t.clientX-b)}function A(t){if(t.touches.length!=1)return;document.addEventListener("touchend",S,false);document.addEventListener("touchmove",E,false);b=t.touches[0].clientX;M=n.scale(n._value)}function S(){document.removeEventListener("touchend",S,false);document.removeEventListener("touchmove",E,false)}function E(t){if(t.touches.length!=1)return;L(t.touches[0].clientX-b)}function L(t){var e=M+t;var r=Math.max(0,Math.min(h,e));var i=n.scale.invert(r);if(n._snap)i=Fr(n._snap,i);w.attr("cx",n.scale(i));if(i!=n._value){n._value=i;n.fire("change",n._value)}}w=d.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}]);w=w.enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(w);w.attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){zt.preventDefault();x(zt)}).on("touchstart",function(){zt.preventDefault();A(zt)});var z=[];if(this._label){z.push({label:this._label,x:h/2,y:-f,font_size:this._labelSize})}var R=d.selectAll(".slider-label").data(z);R.exit().remove();R=R.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(R);R.text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);var q=[];if(this._startLabel){q.push({label:this._startLabel,x:this._startLabelBelow?0:-(o+5+Math.max(0,this._handleRadius-o)),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize})}if(this._endLabel){q.push({label:this._endLabel,x:this._endLabelBelow?h:h+(o+Math.max(0,this._handleRadius-o)+5),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize})}var C=d.selectAll(".slider-end-labels").data(q);C.exit().remove();C=C.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(C);C.text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor});return this};Rr.prototype.update=Rr.prototype.draw;function Ir(t){return new Rr(t)}Ir.version=zr;return Ir});